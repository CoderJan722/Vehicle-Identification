<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>车型识别系统</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: rgb(244, 245, 247);
        }
        
        body > div {
            margin-bottom: 50px;
        }
        
        /* 标题文字字号及居中 */
        .title {
            font-size: 45px;
            text-align: center;
        }
        
        /* 悬浮条容器 */
        #top {
            width: 100%;
            height: 60px;
            margin: 0;
            padding: 0;
            background-color: rgb(216, 178, 173);
            position: fixed;
        }
        
        /* 悬浮条文字 */
        #top h2 {
            margin: 0;
            padding: 0;
            color: white;
            text-align: center;
            line-height: 60px;
        }
        
        #top span {
            float: right;
            font-size: 13px;
            color: white;
            position: absolute;
            z-index: 1;
            right: 20px;
            bottom: 10px;
        }
        
        
        /* 功能介绍容器 */
        #info {
            padding: 100px;
        }
        
        
        /* 功能演示容器 */
        #window {
            padding: 0 250px 0 250px;
        }
        
        /* 功能演示内部容器 */
        #window #result {
            padding: 20px 150px 20px 150px;
            background-color: #FFFFFF;
        }
        
        /* 功能演示内的小标题 */
        #window #result > p {
            font-size: 25px;
            text-align: center;
        }
        
        /* 功能演示内的小窗口 */
        #window #result .decoration {
            border: 1px solid rgb(216, 178, 173);
            padding: 20px 200px 20px 45px;
        }
        
        #count #table {
            padding: 30px 150px 30px 150px;
            background-color: #FFFFFF;
        }
        
        /* 数据统计容器 */
        #count {
            padding: 100px 0;
            margin: 0 250px;
        }
        
        /* 数据统计内的数据表格 */
        #count #table #data {
            width: 700px;
            margin: auto;
        }
        
        /* 表格 */
        #count #table #data, th, tr, td {
            border: 1px solid;
            border-collapse: collapse;
            text-align: center;
        }
        
        /* 功能不足容器 */
        #disadvantage {
            padding: 0 100px 100px 100px;
        }
    </style>
</head>

<body>

<div id="top">
    <h2>车型识别系统</h2>
    <span>@俞文健</span>
</div>

<div id="info">
    <p class="title">功能介绍</p>
    <div style="padding: 0 300px">
        <p>
            　　本项目主要实现了轮轴识别功能。借助OpenCV函数库来对车辆进行轮轴识别，利用椭圆拟合标定轮轴的位置与轮毂的凹凸情况，通过计算标定的轮轴数量并结合其轮毂的类型可以达到车型识别的目的。后端基于Flask框架搭建服务器与前端进行交互，可以将分析结果返回给页面进行展示。
        </p>
    </div>
</div>

<div id="window">
    <p class="title">功能演示</p>
    <div id="result">
        <p>演示窗口</p>
        <div class="decoration">
            <h3>注意：请上传jpg格式图片！</h3>
            <form method="POST" action="" enctype="multipart/form-data">
                <p><input type="file" name="file"></p>
                <p><input type="submit" value="提交文件"></p>
            </form>
        </div>
        
        <p>检测结果</p>
        <div class="decoration">
            {% for file in files %}
            <h3>{{file[:-4]}}</h3>
            <img src="{{ url_for('upload', filename=file) }}" style="width: 640px;height: 360px;" alt="">
            {% endfor %}
        </div>
    </div>
</div>

<div id="count">
    <p class="title">数据统计</p>
    <div style="padding: 0 160px 10px 160px">
        <p>
            　　根据所采集的30张数据集进行数据统计，分别根据图像能观测到的车辆信息包括车型、轮轴位置、轴型，统计并分析识别情况并计算正确率。因不可避免出现少量错误的椭圆，所以若错误的椭圆不影响对车型的判断，则认为是正确识别；若正确的椭圆数量未达到与实际情况相符，则认为是不完全识别；若出现错误的椭圆过多且影响对车型的判断，则认为错误识别。
        </p>
    </div>
    <div id="table">
        
        <table id="data">
            <tr>
                <th>编号</th>
                <th>车型及轮轴位置</th>
                <th>轴型(轮毂凹凸)</th>
                <th>识别情况</th>
            </tr>
            <tr>
                <td>001</td>
                <td>两轴以上货车后轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>002</td>
                <td>两轴以上货车后轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>003</td>
                <td>两轴以上牵引车后两轮</td>
                <td>凹</td>
                <td>不完全识别</td>
            </tr>
            <tr>
                <td>004</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>005</td>
                <td>两轴以上牵引车前轮</td>
                <td>凸</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>006</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>007</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>008</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>009</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>错误识别</td>
            </tr>
            <tr>
                <td>010</td>
                <td>两轴以上牵引车前轮</td>
                <td>凸</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>011</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>012</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>013</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>014</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>不完全识别</td>
            </tr>
            <tr>
                <td>015</td>
                <td>两轴以上牵引车前轮</td>
                <td>凸</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>016</td>
                <td>两轴以上货车前两轮</td>
                <td>凸</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>017</td>
                <td>两轴以上货车后两轮</td>
                <td>凹</td>
                <td>错误识别</td>
            </tr>
            <tr>
                <td>018</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>019</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>020</td>
                <td>两轴轿车</td>
                <td>凸</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>021</td>
                <td>两轴以上牵引车前轮</td>
                <td>凸</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>022</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>023</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>错误识别</td>
            </tr>
            <tr>
                <td>024</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>不完全识别</td>
            </tr>
            <tr>
                <td>025</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>不完全识别</td>
            </tr>
            <tr>
                <td>026</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>027</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>错误识别</td>
            </tr>
            <tr>
                <td>028</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>029</td>
                <td>两轴以上牵引车中间两轮</td>
                <td>凹</td>
                <td>正确识别</td>
            </tr>
            <tr>
                <td>030</td>
                <td>三轴以上牵引车后三轮</td>
                <td>凹</td>
                <td>错误识别</td>
            </tr>
            <tr>
                <td>统计</td>
                <td colspan="3">21次识别正确</td>
            </tr>
            <tr>
                <td>正确率</td>
                <td colspan="3">70%</td>
            </tr>
        </table>
    </div>
</div>

<div id="disadvantage">
    <p class="title">系统的不足</p>
    <div style="padding: 0 300px">
        <p>
            　　由于在图像平滑和轮廓检测的算法设计上存在一定的不足，在椭圆拟合阶段会受图片中的环境因素影响，导致出现一些不在目标区域的椭圆绘制。经过观察与分析，首先可以排除所有在车辆范围外由环境因素产生的椭圆；然后可以排除一部分很明显不是用来标定目标的椭圆，如果椭圆的长轴与短轴的长度相差太大，就可以认为不是正确的轴。
        </p>
    </div>
</div>

</body>

</html>
